<DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Perfect Pizza</title>
        <link rel="stylesheet" href="style.css">
        <script src="pizza.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
        <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
        <style>
            body {
              background-image: url('https://img.freepik.com/free-photo/delicious-pizza-isolated-white_53876-138507.jpg?w=740&t=st=1689895515~exp=1689896115~hmac=80455db54dda6d8ac7b6f9cbc4c1c36c616eb2d3777ae759aa80067545b012bc');
            }
            </style>
     

    </head>
    <body>
        <h1>Perfect Pizza</h1>
        <div x-data="pizzaCart">
        <div>
            
            <div>
                Username: <input type="text" x-model="username"> 
                <button x-on:click="login" >Login</button>
                <button x-on:click="logout" x-show="username && cartId">Logout</butto>
            </div>
            <div x-show="cartId">
                Cart code: <span x-text="cartId"></span>
            </div>
            <div class="message" x-text="message">Message here</div>


            <div class="apipage" x-show="username && cartId">
            <div class="catlogue" x-show="cartTotal>0">
            <h3 class="cart">Shopping Cart</h3>                
            <table border="1" class="table">
                    <thead>
                    <th>Description</th>
                    <th>Size</th>
                    <th>Price</th>
                    <th>Action</th>
                     </thead>
                      <tbody>
                        <template x-for="pizza in cartPizzas">
                            <tr>
                              <td x-text="pizza.flavour"></td>
                              <td x-text="pizza.size"></td>
                              <td x-text="pizza.price"></td>
                              <td>
                                 <button x-on:click="addPizzaToCart(pizza.id)">+</button>
                                 <span x-text="pizza.qty"></span>
                                 <button x-on:click="removePizzaFromCart(pizza.id)">-</button>
                             </td>
                            <td x-text="pizza.total"></td>
                         </tr>
                    </template>
                      <tr>
                        <td colspan="4"><strong>Total</strong></td>
                        <td><strong>R<span x-text="cartTotal"></span></strong></td>
                     </tr>
                    <tr>
                        <td colspan="2"><strong>Pay now</strong></td>
                        <td colspan="2"><strong>Payment mount</strong>
                            <input x-model="paymentAmount" type="text">
                        </td>
                        <td><button x-on:click="payForCart()"><strong>Pay</strong></button></td>
                    </tr>
                </tbody>
                </table>
                </div>
                
             
             

          
                <div class="pizzas" >
                    
                        <h2>PIZZAS</h2>
                        <template x-for="pizza in pizzas">
                            <div class="pizza">
                            <h5 x-text="pizza.flavour"></h5>
                            <span x-text="pizza.id"></span>
                            <span x-text="pizza.size"></span>
                            <strong x-text="pizza.price"></strong>
                            <div>
                                <button class="btn" x-on:click="addPizzaToCart(pizza.id)">Add to cart</button>
                            </div>
                        </div>

                    </template>
                </div>




            
                <div class="contact_us">
                <h2>Contact Details</h2>
                <div>
                Contact us at: 0772279099 infor@perfectpizza.co.za
                </div>
                </div>



        


</div>
</div>
